"use strict";var viewModel=function(){var e,t,n,a,s,i,o,r=this,d=document.getElementsByTagName("form"),c=document.getElementById("account"),l=document.getElementById("event"),u=document.getElementById("progress"),v=document.getElementById("name"),m=document.getElementById("email"),h=document.getElementById("password"),p=document.getElementById("confirmPass"),g=document.getElementById("progressNote"),y=document.getElementById("eventHost"),L=document.getElementById("eventName"),f=document.getElementById("eventType"),T=document.getElementById("eventHost"),b=document.getElementById("location"),E=document.getElementById("guest"),k=document.getElementById("eventEnd"),B=document.getElementById("eventStart"),H=document.createElement("div");H.classList.add("text-danger"),v.parentNode.insertBefore(H,v.nextSibling);var C=document.createElement("div");C.classList.add("text-danger"),m.parentNode.insertBefore(C,m.nextSibling);var M=document.createElement("div");M.classList.add("text-danger"),h.parentNode.insertBefore(M,h.nextSibling);var S=document.createElement("div");S.classList.add("text-danger"),p.parentNode.insertBefore(S,p.nextSibling);var N=document.createElement("div");N.classList.add("text-danger"),L.parentNode.insertBefore(N,L.nextSibling);var x=document.createElement("div");x.classList.add("text-danger"),f.parentNode.insertBefore(x,f.nextSibling);var V=document.createElement("div");V.classList.add("text-danger"),T.parentNode.insertBefore(V,T.nextSibling);var w=document.createElement("div");w.classList.add("text-danger"),b.parentNode.insertBefore(w,b.nextSibling);var I=document.createElement("div");I.classList.add("text-danger"),B.parentNode.insertBefore(I,B.nextSibling);var P=document.createElement("div");P.classList.add("text-danger"),k.parentNode.insertBefore(P,k.nextSibling);var D=document.createElement("div");D.classList.add("text-danger"),E.parentNode.insertBefore(D,E.nextSibling),r.eventName=ko.observable(""),r.eventType=ko.observable(""),r.eventHost=ko.observable(""),r.eventStart=ko.observable(""),r.eventEnd=ko.observable(""),r.eventLocation=ko.observable(""),r.eventGuest=ko.observable(""),r.guestList=ko.observableArray([]),r.eventList=ko.observableArray([]),r.accountNameCheck=function(){v.value?H.innerHTML="":H.innerHTML='<p id="accountNameValidity">Please enter a name.</p>'},r.accountEmailCheck=function(){C.innerHTML='<p id="accountEmailValidity">'+m.validationMessage+"</p>"},r.passFirstCheck=function(){i=[],h.value.length<10&&i.push("The password must be longer than 10 characters"),h.value.length>30&&i.push("The password must be shorter than 30 characters"),h.value.match(/[0-9]/g)||i.push("The password must contain a number"),h.value.match(/[A-Z]/g)||i.push("The password must contain an uppercase letter"),h.value.match(/[a-z]/g)?(i.push(""),h.setCustomValidity("")):i.push("The password must contain a lowercase letter"),i.length>0&&(o=i.join(),M.innerHTML="<p id=passFirstValidity>"+o+"</p>",h.setCustomValidity(o))},r.passSecondCheck=function(){p.value!=h.value?(p.setCustomValidity("The passwords must match."),S.innerHTML="<p id=passSecondValidity>The passwords must match</p>"):(p.setCustomValidity(""),S.innerHTML="")};for(var G=0;G<d.length;G++)d[G].addEventListener("invalid",function(e){e.preventDefault()},!0);r.accountSubmit=function(){c.innerHTML="<h1>Thanks for creating your account!</h1>",g.innerHTML="Your account is ready!",l.classList.remove("invisible"),e=window.setTimeout(A,2e3)},r.checkProgress=function(){s=[],v.value&&s.push("0"),m.value&&m.checkValidity()&&s.push("1"),h.value&&h.checkValidity()&&s.push("2"),confirmPass.value&&confirmPass.checkValidity()&&s.push("3"),s.length>0&&(u.value=25),s.length>1&&(u.value=50),s.length>2&&(u.value=75),s.length>3&&(u.value=100)};var A=function(){y.setAttribute("autofocus","autofocus")};r.addGuest=function(){r.guestList.push(r.eventGuest()),r.eventGuest("")},r.eventSubmit=function(){O(),r.eventName(""),r.eventType(""),r.eventHost(""),r.eventStart(""),r.eventEnd(""),r.eventLocation(""),r.guestList([])},r.eventNameCheck=function(){r.eventName()?N.innerHTML="":N.innerHTML='<p id="eventNameCheck">Please enter an event name.</p>'},r.eventTypeCheck=function(){r.eventType()?x.innerHTML="":x.innerHTML='<p id="eventNameCheck">Please choose an event type.</p>'},r.eventHostCheck=function(){r.eventHost()?V.innerHTML="":V.innerHTML='<p id="eventNameCheck">Please enter the host\'s name.</p>'},r.eventLocationCheck=function(){r.eventLocation()?w.innerHTML="":w.innerHTML='<p id="eventLocationCheck">Please enter the location.</p>'},r.guestCheck=function(){r.guestList().length<1?(E.setCustomValidity("Please enter at least one guest."),D.innerHTML='<p id="eventGuestValidity">Please enter at least one guest</p>'):(E.setCustomValidity(""),D.innerHTML="")},r.pastCheck=function(){t=new Date(r.eventStart()),t=t.toISOString(),a=new Date,a=a.toISOString(),a>t?(B.setCustomValidity(""),I.innerHTML=""):(B.setCustomValidity("The event can't start before the present time."),I.innerHTML='<p id="eventOpenValidity"> The event can\'t start before the present time.</p>')},r.timeCompare=function(){t=new Date(r.eventStart()),n=new Date(r.eventEnd()),n>t?(k.setCustomValidity(""),P.innerHTML=""):(k.setCustomValidity("The event has to end after the start time."),P.innerHTML='<p id="eventCloseValidity"> The event has to end after the start time.</p>')};var O=function(){r.eventList.push(new F)},F=function(){this.name=r.eventName(),this.type=r.eventType(),this.host=r.eventHost(),this.start=r.eventStart(),this.stop=r.eventEnd(),this.location=r.eventLocation(),this.guests=r.guestList()}};ko.applyBindings(new viewModel);