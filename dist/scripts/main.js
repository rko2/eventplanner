"use strict";var viewModel=function(){var e,t,n,a,s,i,o,r,d=this,c=document.getElementsByTagName("form"),l=document.getElementById("account"),u=document.getElementById("event"),m=document.getElementById("progress"),v=document.getElementById("name"),h=document.getElementById("email"),p=document.getElementById("password"),g=document.getElementById("confirmPass"),y=document.getElementById("progressNote"),L=document.getElementById("eventName"),f=document.getElementById("eventType"),T=document.getElementById("eventHost"),b=document.getElementById("location"),E=document.getElementById("guest"),k=document.getElementById("eventEnd"),B=document.getElementById("eventStart"),H=document.createElement("div");H.classList.add("text-danger"),v.parentNode.insertBefore(H,v.nextSibling);var C=document.createElement("div");C.classList.add("text-danger"),h.parentNode.insertBefore(C,h.nextSibling);var M=document.createElement("div");M.classList.add("text-danger"),p.parentNode.insertBefore(M,p.nextSibling);var N=document.createElement("div");N.classList.add("text-danger"),g.parentNode.insertBefore(N,g.nextSibling);var x=document.createElement("div");x.classList.add("text-danger"),L.parentNode.insertBefore(x,L.nextSibling);var S=document.createElement("div");S.classList.add("text-danger"),f.parentNode.insertBefore(S,f.nextSibling);var V=document.createElement("div");V.classList.add("text-danger"),T.parentNode.insertBefore(V,T.nextSibling);var w=document.createElement("div");w.classList.add("text-danger"),b.parentNode.insertBefore(w,b.nextSibling);var I=document.createElement("div");I.classList.add("text-danger"),B.parentNode.insertBefore(I,B.nextSibling);var P=document.createElement("div");P.classList.add("text-danger"),k.parentNode.insertBefore(P,k.nextSibling);var G=document.createElement("div");G.classList.add("text-danger"),E.parentNode.insertBefore(G,E.nextSibling),d.eventName=ko.observable(""),d.eventType=ko.observable(""),d.eventHost=ko.observable(""),d.eventStart=ko.observable(""),d.eventEnd=ko.observable(""),d.eventLocation=ko.observable(""),d.eventGuest=ko.observable(""),d.guestList=ko.observableArray([]),d.eventList=ko.observableArray([]),d.accountNameCheck=function(){v.value?H.innerHTML="":H.innerHTML='<p id="accountNameValidity">Please enter a name.</p>'},d.accountEmailCheck=function(){C.innerHTML='<p id="accountEmailValidity">'+h.validationMessage+"</p>"},d.passFirstCheck=function(){o=[],p.value.length<10&&o.push("The password must be longer than 10 characters"),p.value.length>30&&o.push("The password must be shorter than 30 characters"),p.value.match(/[0-9]/g)||o.push("The password must contain a number"),p.value.match(/[A-Z]/g)||o.push("The password must contain an uppercase letter"),p.value.match(/[a-z]/g)?(o.push(""),p.setCustomValidity("")):o.push("The password must contain a lowercase letter"),o.length>0&&(r=o.join(),M.innerHTML="<p id=passFirstValidity>"+r+"</p>",p.setCustomValidity(r))},d.passSecondCheck=function(){g.value!=p.value?(g.setCustomValidity("The passwords must match."),N.innerHTML="<p id=passSecondValidity>The passwords must match</p>"):(g.setCustomValidity(""),N.innerHTML="")};for(var D=0;D<c.length;D++)c[D].addEventListener("invalid",function(e){e.preventDefault()},!0);d.accountSubmit=function(){l.innerHTML="<h1>Thanks for creating your account!</h1>",y.innerHTML="Your account is ready!",u.classList.remove("invisible"),e=window.setTimeout(A,50)},d.checkProgress=function(){i=[],v.value&&i.push("0"),h.value&&h.checkValidity()&&i.push("1"),p.value&&p.checkValidity()&&i.push("2"),confirmPass.value&&confirmPass.checkValidity()&&i.push("3"),i.length>0&&(m.value=25),i.length>1&&(m.value=50),i.length>2&&(m.value=75),i.length>3&&(m.value=100)};var A=function(){L.focus()};d.addGuest=function(){d.guestList.push(d.eventGuest()),d.eventGuest("")},d.eventSubmit=function(){z(),d.eventName(""),d.eventType(""),d.eventHost(""),d.eventStart(""),d.eventEnd(""),d.eventLocation(""),d.guestList([])},d.eventNameCheck=function(){d.eventName()?x.innerHTML="":x.innerHTML='<p id="eventNameCheck">Please enter an event name.</p>'},d.eventTypeCheck=function(){d.eventType()?S.innerHTML="":S.innerHTML='<p id="eventNameCheck">Please choose an event type.</p>'},d.eventHostCheck=function(){d.eventHost()?V.innerHTML="":V.innerHTML='<p id="eventNameCheck">Please enter the host\'s name.</p>'},d.eventLocationCheck=function(){d.eventLocation()?w.innerHTML="":w.innerHTML='<p id="eventLocationCheck">Please enter the location.</p>'},d.guestCheck=function(){d.guestList().length<1&&!d.eventGuest()?(E.setCustomValidity("Please enter at least one guest."),G.innerHTML='<p id="eventGuestValidity">Please enter at least one guest</p>'):(E.setCustomValidity(""),G.innerHTML="")},d.pastCheck=function(){t=new Date(d.eventStart()),s=t.getTimezoneOffset(),t=t.getTime()+6e4*s,a=new Date,a.getTime()<t?(B.setCustomValidity(""),I.innerHTML=""):(B.setCustomValidity("The event can't start before the present time."),I.innerHTML='<p id="eventOpenValidity"> The event can\'t start before the present time.</p>')},d.timeCompare=function(){t=new Date(d.eventStart()),n=new Date(d.eventEnd()),n>t?(k.setCustomValidity(""),P.innerHTML=""):(k.setCustomValidity("The event has to end after the start time."),P.innerHTML='<p id="eventCloseValidity"> The event has to end after the start time.</p>')};var z=function(){d.eventList.push(new F)},F=function(){this.name=d.eventName(),this.type=d.eventType(),this.host=d.eventHost(),this.start=d.eventStart(),this.stop=d.eventEnd(),this.location=d.eventLocation(),this.guests=d.guestList()}};ko.applyBindings(new viewModel);